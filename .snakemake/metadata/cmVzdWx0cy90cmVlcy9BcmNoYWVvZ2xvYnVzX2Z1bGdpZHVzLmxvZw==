{"record_format_version": 6, "code": "        import subprocess\n        from Bio import SeqIO\n        seqs = list(SeqIO.parse(input.aligned, \"fasta\"))\n        if len(seqs) < 4:\n            with open(output.tree, \"w\") as f:\n            with open(output.tree, \"w\") as f:\n            with open(output.tree, \"w\") as f:\n                f.write(f\"# Pas assez de s\u00e9quences pour {wildcards.species} (n={len(seqs)})\\n\")\n            with open(output.iqtree, \"w\") as f:\n            with open(output.iqtree, \"w\") as f:\n            with open(output.iqtree, \"w\") as f:\n                f.write(f\"# Skipped: {len(seqs)} sequences\\n\")\n            with open(output.log, \"w\") as f:\n            with open(output.log, \"w\") as f:\n            with open(output.log, \"w\") as f:\n                f.write(f\"# Skipped: {len(seqs)} sequences\\n\")\n            with open(log[0], \"w\") as f:\n            with open(log[0], \"w\") as f:\n            with open(log[0], \"w\") as f:\n                f.write(f\"Skipped {wildcards.species}: only {len(seqs)} sequences (minimum 4 required)\\n\")\n            os.makedirs(\"results/trees\", exist_ok=True)\n            try:\n                subprocess.run([\n                subprocess.run([\n                subprocess.run([\n                    \"iqtree3\",  # Utilisez iqtree3 au lieu de iqtree2\n                    \"-s\", input.aligned,\n                    \"-nt\", str(threads),\n                    \"-m\", \"MFP\",\n                    \"-bb\", \"1000\",\n                    \"-pre\", f\"results/trees/{wildcards.species}\"\n                ], check=True, capture_output=True, text=True)\n            except subprocess.CalledProcessError as e:\n            except subprocess.CalledProcessError as e:\n                with open(log[0], \"w\") as f:\n                with open(log[0], \"w\") as f:\n                with open(log[0], \"w\") as f:\n                    f.write(f\"STDERR:\\n{e.stderr}\\n\\nSTDOUT:\\n{e.stdout}\\n\")\n                raise\n                raise\n", "rule": "iqtree_build", "input": ["results/aligned/Archaeoglobus_fulgidus.aln.fasta"], "log": ["logs/iqtree_Archaeoglobus_fulgidus.log"], "params": [], "shellcmd": null, "incomplete": false, "starttime": 1763924424.624349, "endtime": 1763924424.7034283, "job_hash": 144501179240, "conda_env": null, "software_stack_hash": "d41d8cd98f00b204e9800998ecf8427e", "container_img_url": null, "input_checksums": {"results/aligned/Archaeoglobus_fulgidus.aln.fasta": "11a73560d3aef99be42b2f2bc43960f064c76a9195b6b411a6957b7ad4cdac0c"}}